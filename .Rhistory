j=1
for(i in 2:6){
frac[j,k]<-sum(rural.2014$FAC00[which(rural.2014$INGPEa<=B[i]&rural.2014$INGPEa>B[i-1])]*rural.2014$uses.firewood[which(rural.2014$INGPEa<=B[i]&rural.2014$INGPEa>B[i-1])],na.rm=T)/sum(rural.2014$FAC00[which(rural.2014$INGPEa<=B[i]&rural.2014$INGPEa>B[i-1])])
j=j+1
}
frac<-NULL
j=1
for(i in 2:6){
frac[j,k]<-sum(rural.2014$FAC00[which(rural.2014$INGPEa<=B[i]&rural.2014$INGPEa>B[i-1])]*rural.2014$uses.firewood[which(rural.2014$INGPEa<=B[i]&rural.2014$INGPEa>B[i-1])],na.rm=T)/sum(rural.2014$FAC00[which(rural.2014$INGPEa<=B[i]&rural.2014$INGPEa>B[i-1])])
j=j+1
}
j=1
for(i in 2:6){
frac[j]<-sum(rural.2014$FAC00[which(rural.2014$INGPEa<=B[i]&rural.2014$INGPEa>B[i-1])]*rural.2014$uses.firewood[which(rural.2014$INGPEa<=B[i]&rural.2014$INGPEa>B[i-1])],na.rm=T)/sum(rural.2014$FAC00[which(rural.2014$INGPEa<=B[i]&rural.2014$INGPEa>B[i-1])])
j=j+1
}
frac
rural.2010<-rural.2010[-which(is.na(rural.2010$uses.firewood)),]
rural.2011<-rural.2011[-which(is.na(rural.2011$uses.firewood)),]
rural.2012<-rural.2012[-which(is.na(rural.2012$uses.firewood)),]
rural.2013<-rural.2013[-which(is.na(rural.2013$uses.firewood)),]
rural.2014<-rural.2014[-which(is.na(rural.2014$uses.firewood)),]
A<-list()
A$A2010<-rural.2010
A$A2011<-rural.2011
A$A2012<-rural.2012
A$A2013<-rural.2013
A$A2014<-rural.2014
D=NULL
D=NULL
B<-c(0,60,105,150,195,240)
for(k in 1:5){
frac<-NULL
j=1
for(i in 2:6){
frac[j]<-sum(A[[k]]$FAC00[which(A[[k]]$INGPEa<=B[i]&A[[k]]$INGPEa>B[i-1])]*A[[k]]$uses.firewood[which(A[[k]]$INGPEa<=B[i]&A[[k]]$INGPEa>B[i-1])],na.rm=T)/sum(A[[k]]$FAC00[which(A[[k]]$INGPEa<=B[i]&A[[k]]$INGPEa>B[i-1])])
j=j+1
}
D[[k]]<-frac
}
D
names(A[[4]])
name(A[[4]])
A[[4]]$FAC00[which(A[[4]]$INGPEa<=B[i]&A[[4]]$INGPEa>B[i-1])]
i=2
A[[4]]$FAC00[which(A[[4]]$INGPEa<=B[i]&A[[4]]$INGPEa>B[i-1])]
A[[4]]$INGPEa
A[[4]]$INGPEa
rural.2013$INGPEa
rural.2013<-data.2013[which(data.2013$AREA==0),]
rural.2013$INGPEa
names(A[[4]])
which(is.na(rural.2013$uses.firewood))
is.na(rural.2013$uses.firewood)
rural.2013$uses.firewood
rural.2013<-rural.2013[-which(is.na(rural.2013$uses.firewood)),]
names(rural.2013)
rural.2013$INGPEa
dim(rural.2013)
rural.2013<-data.2013[which(data.2013$AREA==0),]
dim(rural.2013)
which(is.na(rural.2013$uses.firewood))
rural.2013[-which(is.na(rural.2013$uses.firewood)),]
dim(rural.2013)
rural.2013<-rural.2013[-which(is.na(rural.2013$uses.firewood)),]
dim(rural.2013)
rural.2013<-data.2013[which(data.2013$AREA==0),]
summary(rural.2013$main.fuel)
rural.2013<-data.2013[which(data.2013$AREA==0),]
rural.2013<-rural.2013[-which(is.na(rural.2013$uses.firewood)),]
dim(rural.2013)
rural.2013<-data.2013[which(data.2013$AREA==0),]
rural.2013<-data.2013[which(data.2013$AREA==0),]
data.2013<-read.csv("2013 final data.csv")
rural.2013<-data.2013[which(data.2013$AREA==0),]
rural.2013<-rural.2013[-which(is.na(rural.2013$uses.firewood)),]
dim(rural.2013)
rural.2013<-data.2013[which(data.2013$AREA==0),]
which(is.na(rural.2013$uses.firewood))
data.2013<-read.csv("2013 final data.csv")
rural.2013<-data.2013[which(data.2013$AREA==0),]
which(is.na(rural.2013$uses.firewood))
rural.2013<-rural.2013[-which(is.na(rural.2013$uses.firewood)),]
dim(rural.2013)
data.2010<-read.csv("2010 final data.csv")
data.2011<-read.csv("2011 final data.csv")
data.2012<-read.csv("2012 final data.csv")
data.2013<-read.csv("2013 final data.csv")
data.2014<-read.csv("2014 final data.csv")
rural.2010<-data.2010[which(data.2010$AREA==1),]
rural.2011<-data.2011[which(data.2011$AREA==0),]
rural.2012<-data.2012[which(data.2012$AREA==0),]
rural.2013<-data.2013[which(data.2013$AREA==0),]
rural.2014<-data.2014[which(data.2014$AREA==0),]
rural.2010<-rural.2010[-which(is.na(rural.2010$uses.firewood)),]
rural.2011<-rural.2011[-which(is.na(rural.2011$uses.firewood)),]
rural.2012<-rural.2012[-which(is.na(rural.2012$uses.firewood)),]
rural.2013<-rural.2013[-which(is.na(rural.2013$uses.firewood)),]
rural.2014<-rural.2014[-which(is.na(rural.2014$uses.firewood)),]
A<-list()
A$A2010<-rural.2010
A$A2011<-rural.2011
A$A2012<-rural.2012
A$A2013<-rural.2013
A$A2014<-rural.2014
D=NULL
B<-c(0,60,105,150,195,240)
for(k in 1:5){
frac<-NULL
j=1
for(i in 2:6){
frac[j]<-sum(A[[k]]$FAC00[which(A[[k]]$INGPEa<=B[i]&A[[k]]$INGPEa>B[i-1])]*A[[k]]$uses.firewood[which(A[[k]]$INGPEa<=B[i]&A[[k]]$INGPEa>B[i-1])],na.rm=T)/sum(A[[k]]$FAC00[which(A[[k]]$INGPEa<=B[i]&A[[k]]$INGPEa>B[i-1])])
j=j+1
}
D[[k]]<-frac
}
D
cbind(D)
cbind(D[[1]],D[[2]],D[[3]],D[[4]],D[[5]])
write.csv(cbind(D[[1]],D[[2]],D[[3]],D[[4]],D[[5]]),"/Users/javierlascurain-leon1/Desktop/PAHO LPG/Case Study El Salvador/Datasets and analysis/evolution of firewood use by rural income.csv")
data.2010<-read.csv("2010 final data.csv")
data.2011<-read.csv("2011 final data.csv")
data.2012<-read.csv("2012 final data.csv")
data.2013<-read.csv("2013 final data.csv")
data.2014<-read.csv("2014 final data.csv")
urban.2010<-data.2010[which(data.2010$AREA==2),]
urban.2011<-data.2011[which(data.2011$AREA==1),]
urban.2012<-data.2012[which(data.2012$AREA==1),]
urban.2013<-data.2013[which(data.2013$AREA==1),]
urban.2014<-data.2014[which(data.2014$AREA==1),]
urban.2010<-urban.2010[-which(is.na(urban.2010$uses.firewood)),]
urban.2011<-urban.2011[-which(is.na(urban.2011$uses.firewood)),]
urban.2012<-urban.2012[-which(is.na(urban.2012$uses.firewood)),]
urban.2013<-urban.2013[-which(is.na(urban.2013$uses.firewood)),]
urban.2014<-urban.2014[-which(is.na(urban.2014$uses.firewood)),]
A<-list()
A$A2010<-urban.2010
A$A2011<-urban.2011
A$A2012<-urban.2012
A$A2013<-urban.2013
A$A2014<-urban.2014
D=NULL
B<-c(0,60,105,150,195,240)
for(k in 1:5){
frac<-NULL
j=1
for(i in 2:6){
frac[j]<-sum(A[[k]]$FAC00[which(A[[k]]$INGPEa<=B[i]&A[[k]]$INGPEa>B[i-1])]*A[[k]]$uses.firewood[which(A[[k]]$INGPEa<=B[i]&A[[k]]$INGPEa>B[i-1])],na.rm=T)/sum(A[[k]]$FAC00[which(A[[k]]$INGPEa<=B[i]&A[[k]]$INGPEa>B[i-1])])
j=j+1
}
D[[k]]<-frac
}
write.csv(cbind(D[[1]],D[[2]],D[[3]],D[[4]],D[[5]]),"/Users/javierlascurain-leon1/Desktop/PAHO LPG/Case Study El Salvador/Datasets and analysis/evolution of firewood use by urban income.csv")
data.2010<-read.csv("2010 final data.csv")
data.2011<-read.csv("2011 final data.csv")
data.2012<-read.csv("2012 final data.csv")
data.2013<-read.csv("2013 final data.csv")
data.2014<-read.csv("2014 final data.csv")
rural.2010<-data.2010[which(data.2010$AREA==1),]
rural.2011<-data.2011[which(data.2011$AREA==0),]
rural.2012<-data.2012[which(data.2012$AREA==0),]
rural.2013<-data.2013[which(data.2013$AREA==0),]
rural.2014<-data.2014[which(data.2014$AREA==0),]
A<-list()
A$A2010<-rural.2010
A$A2011<-rural.2011
A$A2012<-rural.2012
A$A2013<-rural.2013
A$A2014<-rural.2014
D=NULL
B<-c(0,60,105,150,195,240)
for(k in 1:5){
frac<-NULL
j=1
for(i in 2:6){
frac[j]<-sum(A[[k]]$FAC00[which(A[[k]]$INGPEa<=B[i]&A[[k]]$INGPEa>B[i-1])]*A[[k]]$has.electricity[which(A[[k]]$INGPEa<=B[i]&A[[k]]$INGPEa>B[i-1])],na.rm=T)/sum(A[[k]]$FAC00[which(A[[k]]$INGPEa<=B[i]&A[[k]]$INGPEa>B[i-1])])
j=j+1
}
D[[k]]<-frac
}
write.csv(cbind(D[[1]],D[[2]],D[[3]],D[[4]],D[[5]]),"/Users/javierlascurain-leon1/Desktop/PAHO LPG/Case Study El Salvador/Datasets and analysis/evolution of electric connections by rural income.csv")
urban.2010<-data.2010[which(data.2010$AREA==2),]
urban.2011<-data.2011[which(data.2011$AREA==1),]
urban.2012<-data.2012[which(data.2012$AREA==1),]
urban.2013<-data.2013[which(data.2013$AREA==1),]
urban.2014<-data.2014[which(data.2014$AREA==1),]
A<-list()
A$A2010<-urban.2010
A$A2011<-urban.2011
A$A2012<-urban.2012
A$A2013<-urban.2013
A$A2014<-urban.2014
D=NULL
B<-c(0,60,105,150,195,240)
for(k in 1:5){
frac<-NULL
j=1
for(i in 2:6){
frac[j]<-sum(A[[k]]$FAC00[which(A[[k]]$INGPEa<=B[i]&A[[k]]$INGPEa>B[i-1])]*A[[k]]$has.electricity[which(A[[k]]$INGPEa<=B[i]&A[[k]]$INGPEa>B[i-1])],na.rm=T)/sum(A[[k]]$FAC00[which(A[[k]]$INGPEa<=B[i]&A[[k]]$INGPEa>B[i-1])])
j=j+1
}
D[[k]]<-frac
}
write.csv(cbind(D[[1]],D[[2]],D[[3]],D[[4]],D[[5]]),"/Users/javierlascurain-leon1/Desktop/PAHO LPG/Case Study El Salvador/Datasets and analysis/evolution of electric connections by urban income.csv")
A<-list()
A$A2010<-rural.2010
A$A2011<-rural.2011
A$A2012<-rural.2012
A$A2013<-rural.2013
A$A2014<-rural.2014
for(i in 1:5){
summary(glm(A[[i]]$uses.firewood~1/INGPEa+has.electricity,data=A[[i]]))
}
summary(glm(A[[1]]$uses.firewood~1/INGPEa+has.electricity,data=A[[1]]))
summary(glm(A[[1]]$uses.firewood~INGPEa^-1+has.electricity,data=A[[1]]))
A[[1]]$inv.INGPEa<-1/INGPEa
summary(glm(A[[1]]$uses.firewood~inv.INGPEa+has.electricity,data=A[[1]]))
A[[1]]$inv.INGPEa<-1/A[[1]]$INGPEa
summary(glm(A[[1]]$uses.firewood~inv.INGPEa+has.electricity,data=A[[1]]))
G<-NULL
for(i in 1:5){
A[[i]]$inv.INGPEa<-1/A[[i]]$INGPEa
G[[i]]<-summary(glm(A[[i]]$uses.firewood~inv.INGPEa+has.electricity,data=A[[i]]))
}
G
A<-list()
A[[1]]<-rural.2010
A[[2]]<-rural.2011
A[[3]]<-rural.2012
A[[4]]<-rural.2013
A[[5]]<-rural.2014
G<-NULL
for(i in 1:5){
A[[i]]$inv.INGPEa<-1/A[[i]]$INGPEa
G[[i]]<-summary(glm(A[[i]]$uses.firewood~inv.INGPEa+has.electricity,data=A[[i]]))
}
G
G<-NULL
for(i in 1:5){
A[[i]]$inv.INGPEa<-1/A[[i]]$INGPEa
G[[i]]<-summary(glm(A[[i]]$uses.firewood~inv.INGPEa+has.electricity,data=A[[i]],family=binomial(link="probit")))
}
G
G<-NULL
for(i in 1:5){
A[[i]]$inv.INGPEa<-1/A[[i]]$INGPEa
G[[i]]<-summary(glm(A[[i]]$uses.firewood~inv.INGPEa*has.electricity,data=A[[i]],family=binomial(link="probit")))
}
G
G<-NULL
for(i in 1:5){
A[[i]]$inv.INGPEa<-1/A[[i]]$INGPEa
G[[i]]<-summary(glm(A[[i]]$uses.firewood~inv.INGPEa+has.electricity,data=A[[i]],family=binomial(link="probit"),weights=A[[i]]$FAC00))
}
G[[i]]<-summary(glm(A[[i]]$uses.firewood~inv.INGPEa+has.electricity+Literacy,data=A[[i]],family=binomial(link="probit"),weights=A[[i]]$FAC00))
G<-NULL
for(i in 1:5){
A[[i]]$inv.INGPEa<-1/A[[i]]$INGPEa
G[[i]]<-summary(glm(A[[i]]$uses.firewood~inv.INGPEa+has.electricity,data=A[[i]],family=binomial(link="probit"),weights=A[[i]]$FAC00))
}
G
G<-NULL
for(i in 1:5){
A[[i]]$inv.INGPEa<-1/A[[i]]$INGPEa
G[[i]]<-summary(glm(A[[i]]$uses.firewood~inv.INGPEa+has.electricity+Literacy,data=A[[i]],family=binomial(link="probit"),weights=A[[i]]$FAC00))
}
G
data<-read.csv(unz"https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip"))
data<-read.csv(unz("https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip"))
data<-unz("https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip")
?unz
data<-unz(data,"https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip")
?tempfile
?download.file
temp<-tempfile()
download.file("https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip",temp)
temp
data<-read.csv(unz(temp))
unz(temp)
data<-read.csv(unz(temp,"activity.csv))
data<-read.csv(unz(temp,"activity.csv"))
unlink(temp)
head(data)
str(data)
summary(as.factor(data$interval))
24*60/5
24*60
summary(data$interval)
2355/5
24*60/5
?as.Date
data$date<-as.Date(data$date,"%y-%m-%d")
dim(data)
steps<-aggregate(steps~date,FUN=mean,data=data)
steps<-aggregate(steps~as.factor(date),FUN=mean,data=data)
unique(date)
steps<-aggregate(data$steps~as.factor(data$date),FUN=mean)
as.factor(data$date)
summary(data$date)
data<-read.csv(unz(temp,"activity.csv"))
temp<-tempfile()
download.file("https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip",temp)
data<-read.csv(unz(temp,"activity.csv"))
unlink(temp)
data$date<-as.Date(data$date)
summary(data$date)
class(data$date)
with(data,steps<-aggregate(steps~date,FUN=mean))
steps
summary(steps)
summary(data$steps)
temp<-tempfile()
download.file("https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip",temp)
data<-read.csv(unz(temp,"activity.csv"))
unlink(temp)
data$date<-as.Date(data$date)
head(data)
steps1<-aggregate(data$steps~data$date,FUN=mean)
View(steps1)
data$dummy<-rep(1,nrow(data))
interval1<-aggregate(data$interval~data$date,FUN=sum)
View(interval1)
summary(interval1)
mean(interval1[,2])
steps.per.day<-mean(interval1[,2])*steps1
steps.per.day<-mean(interval1[,2])*steps1[,2]
library(qqplot2)
library(ggplot2)
qplot(steps.per.day)
hist(steps.per.day)
hist(steps.per.day,breaks=30)
hist(steps.per.day,breaks=20)
hist(steps.per.day,breaks=20,xlab="Steps taken in a day")
mean(steps.per.day)
median(steps.per.day)
dap<-aggregate(data$steps.per.day~data$interval,FUN=mean)
dap<-aggregate(data$steps~data$interval,FUN=mean)
View(dap)
plot(dap[,1],dap[,2])
plot(dap[,1],dap[,2],type="l")
plot(dap[,1],dap[,2],type="l",xlab="Time of day",ylab="Average number of steps in 5 minute interval")
plot(dap[,1],dap[,2],type="l",xlab="Time of day",ylab="Average number of steps in 5 mins")
which.max(dap[,2])
dap[which.max(dap[,2]),1]
length(which(is.na(data$steps)))
missForest(data$steps)
library(randomForest)
missForest(data$steps)
??missForest
library(missForest)
missForest(data$steps)
?"missForest"
miss<-which(is.na(data$steps))
length(miss)
for(i in miss){
data$steps[i]<-dap[which(dap[,1]==data[i,2]),2]
}
miss
which(dap[,1]==data[1,2])
data[1,2]
head(data)
which(dap[,1]==data$date[1])
data$date[1]
which(dap[,1]==data$interval[1])
dap[which(dap[,1]==data$interval[1]),2]
data1<-data
for(i in miss){
data1$steps[i]<-dap[which(dap[,1]==data1$interval[i]),2]
}
hist(data1$steps)
steps1.1<-aggregate(data1$steps~data1$date,FUN=mean)
steps.per.day1<-mean(interval1[,2])*steps1.1[,2]
hist(steps.per.day1)
hist(steps.per.day1,breaks=20)
mean(steps1.1)
median(steps1.1)
steps1.1
mean(steps1.1[,2])
median(steps1.1[,2])
mean(steps.per.day1[,2])
median(steps.per.day1[,2])
mean(steps.per.day1)
median(steps.per.day1)
steps.per.day1
?weekdays
weekdays(date1$date)
weekdays(data1$date)
weekdays(data1$date)=="Sunday"
weekdays(data1$date)=="Saturday"
which(weekdays(data1$date)=="Sunday"|weekdays(data1$date)=="Saturday")
date1$weekdy<-rep("Weekday",nrow(data1))
date1$weekdy[which(weekdays(data1$date)=="Sunday"|weekdays(data1$date)=="Saturday")]<-"Weekend"
data1$weekdy<-rep("Weekday",nrow(data1))
data1$weekdy[which(weekdays(data1$date)=="Sunday"|weekdays(data1$date)=="Saturday")]<-"Weekend"
summary(data1$weekdy)
data1$weekdy
library(lattice)
?xyplot
xyplot(steps~interval|weekdy,data=data1)
xyplot(steps~interval|weekdy,type="l",data=data1)
dow<-subset(data1,weedy="Weekday")
wknd<-subset(data1,weedy="Weekend")
?tapply
?apply
aggregate(dow$steps~data1$interval,FUN=mean)
aggregate(wknd$steps~dow$interval,FUN=mean)
aggregate(steps~interval,FUN=mean,data=dow)
dow1<-aggregate(steps~interval,FUN=mean,data=dow)
wknd1<-aggregate(steps~interval,FUN=mean,data=wknd)
dow1[,1]
dow1<-as.data.frame(aggregate(steps~interval,FUN=mean,data=dow))
wknd1<-as.data.frame(aggregate(steps~interval,FUN=mean,data=wknd))
names(dow1)<-c("interval","mean.steps")
dow1$weekdy<-"Weekdays"
View(dow1)
unique(interval1) # The number of intervals is the same for each day in the datset
unique(interval1[,2]) # The number of intervals is the same for each day in the datset
names(wknd1)<-c("interval","mean.steps")
wknd1$weekdy<-"Weekdays"
View(wknd1)
names(wknd1)<-c("interval","mean.steps")
wknd1$weekdy<-"Weekend"
View(wknd1)
wknd1<-as.data.frame(aggregate(steps~interval,FUN=mean,data=wknd))
names(wknd1)<-c("interval","mean.steps")
wknd1$weekdy<-"Weekend"
View(wknd1)
int.steps<-rbind(dow1,wknd1)
View(int.steps)
xyplot(mean.steps~interval|weekdy,type="l",data=int.steps)
View(int.steps)
par(mfrwo(1,2))
with(dow1,plot(mean.steps,interval,type="l"))
with(wknd1,plot(mean.steps,interval,type="l"))
with(dow1,plot(interval,mean.steps,type="l"))
with(wknd1,plot(interval,mean.steps,type="l"))
par(mfrow(1,2))
plot(dow1$interval,dow1$mean.steps,type="l")
plot(wknd1$interval,wknd1$mean.steps,type="l")
par(mfrow(1,2))
plot(dow1$interval,dow1$mean.steps,type="l")
plot(wknd1$interval,wknd1$mean.steps,type="l")
par(mfrow=c(1,2))
plot(dow1$interval,dow1$mean.steps,type="l")
plot(wknd1$interval,wknd1$mean.steps,type="l")
par(mfrow=c(2,1))
plot(dow1$interval,dow1$mean.steps,type="l")
plot(wknd1$interval,wknd1$mean.steps,type="l")
par(mfrow=c(2,1),mar=c(1,1,1,1))
plot(dow1$interval,dow1$mean.steps,type="l")
plot(wknd1$interval,wknd1$mean.steps,type="l")
?tapply
tapply(int.steps$mean.steps,int.steps$weekdy)
tapply(int.steps$mean.steps,int.steps$weekdy,FUN=mean)
dow<-subset(data1,weedy="Weekday")
wknd<-subset(data1,weedy="Weekend")
dow1<-as.data.frame(aggregate(steps~interval,FUN=mean,data=dow))
wknd1<-as.data.frame(aggregate(steps~interval,FUN=mean,data=wknd))
names(dow1)<-c("interval","mean.steps")
dow1$weekdy<-"Weekdays"
names(wknd1)<-c("interval","mean.steps")
wknd1$weekdy<-"Weekend"
#Combine weekday and weekend dataframes
int.steps<-rbind(dow1,wknd1)
View(int.steps)
tapply(int.steps$mean.steps,int.steps$weekdy,FUN=mean)
dow<-subset(data1,weekdy="Weekday")
wknd<-subset(data1,weekdy="Weekend")
dow1<-as.data.frame(aggregate(steps~interval,FUN=mean,data=dow))
wknd1<-as.data.frame(aggregate(steps~interval,FUN=mean,data=wknd))
names(dow1)<-c("interval","mean.steps")
dow1$weekdy<-"Weekdays"
names(wknd1)<-c("interval","mean.steps")
wknd1$weekdy<-"Weekend"
#Combine weekday and weekend dataframes
int.steps<-rbind(dow1,wknd1)
tapply(int.steps$mean.steps,int.steps$weekdy,FUN=mean)
dow1<-as.data.frame(aggregate(steps~interval,FUN=mean,data=dow))
wknd1<-as.data.frame(aggregate(steps~interval,FUN=mean,data=wknd))
mean(dow1$steps)
mean(wknd1$steps)
mean(wknd$steps)
dap1<-aggregate(data1$steps~data1$interval,FUN=mean)
data1$weekdy<-rep("Weekday",nrow(data1))
data1$weekdy[which(weekdays(data1$date)=="Sunday"|weekdays(data1$date)=="Saturday")]<-"Weekend"
dow<-subset(data1,weekdy="Weekday")
mean(dow1$steps)
mean(data1$steps)
nrow(data1)
nrow(dow1)
nrow(dow)
dow<-subset(data1,data1$weekdy="Weekday")
dow<-subset(data1,weekdy=="Weekday")
nrow(dow)
dow<-subset(data1,weekdy=="Weekday")
wknd<-subset(data1,weekdy=="Weekend")
dow1<-as.data.frame(aggregate(steps~interval,FUN=mean,data=dow))
wknd1<-as.data.frame(aggregate(steps~interval,FUN=mean,data=wknd))
names(dow1)<-c("interval","mean.steps")
dow1$weekdy<-"Weekdays"
names(wknd1)<-c("interval","mean.steps")
wknd1$weekdy<-"Weekend"
int.steps<-rbind(dow1,wknd1)
tapply(int.steps$mean.steps,int.steps$weekdy,FUN=mean)
library(lattice)
xyplot(mean.steps~interval|weekdy,type="l",data=int.steps)
?xyplot
xyplot(mean.steps~interval|weekdy,type="l",data=int.steps,layout=c(2,1))
xyplot(mean.steps~interval|weekdy,type="l",data=int.steps,layout=c(1,2))
getwd()
setwd("/Users/javierlascurain-leon1/Desktop/RepData_PeerAssessment1")
install.packages(XQuartz)
